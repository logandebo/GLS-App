<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Reset Password – Learning Hub</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link rel="stylesheet" href="css/styles.css" />
  <link rel="stylesheet" href="css/components.css" />
  <style>
    .reset-main { display:flex; align-items:center; justify-content:center; min-height:70vh; }
    .reset-card { flex:1 1 380px; max-width:560px; }
    .reset-form .form-row { display:flex; align-items:center; gap:0.75rem; margin:0.5rem 0; }
    .reset-form .form-row label { min-width:150px; white-space:nowrap; }
    .reset-form .form-row input { flex:1; }
    .auth-actions { display:flex; gap:0.5rem; margin-top:0.6rem; }
    .inline-msg { font-size:0.9rem; opacity:0.9; }
  </style>
</head>
<body>
  <header class="site-header">
    <h1 class="site-title">Learning Hub</h1>
  </header>
  <main class="reset-main">
    <section class="reset-card">
      <h2>Create a new password</h2>
      <div id="reset-status" class="auth-status"></div>
      <form id="reset-form" class="reset-form" autocomplete="off" style="display:none;">
        <div class="form-row">
          <label for="new-password">New password</label>
          <input id="new-password" type="password" placeholder="••••••••" />
          <button id="toggle-new" type="button" aria-label="Show/Hide">Show</button>
        </div>
        <div class="form-row">
          <label for="confirm-password">Confirm new password</label>
          <input id="confirm-password" type="password" placeholder="repeat" />
          <button id="toggle-confirm" type="button" aria-label="Show/Hide">Show</button>
        </div>
        <div class="inline-msg" id="policy-msg">Use at least 8 characters, include a letter and a number.</div>
        <div class="auth-actions">
          <button id="reset-submit" type="button">Update password</button>
          <a id="back-login" href="auth.html" style="margin-left:auto;">Back to login</a>
        </div>
      </form>
      <div id="reset-success" style="display:none;">
        <p>Password updated successfully.</p>
        <div class="auth-actions">
          <a class="button" href="auth.html">Back to login</a>
        </div>
      </div>
    </section>
  </main>

  <!-- Supabase JS (UMD) -->
  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2/dist/umd/supabase.js"></script>
  <!-- Shared Supabase client -->
  <script type="module">
    import { initSupabase } from './js/auth/supabaseClient.js';
    initSupabase();
  </script>
  <script type="module" src="js/reset_password.js?v=20260105"></script>
</body>
</html>
